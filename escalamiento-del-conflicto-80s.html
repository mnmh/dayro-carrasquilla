<!DOCTYPE html>
<html class="is-smooth-scroll-compatible is-loading" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Dayro Carrasquilla</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="theme-color" content="#ffffff" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="dist/images/favicons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="dist/images/favicons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="dist/images/favicons/favicon-16x16.png"
    />
    <link
      rel="mask-icon"
      href="dist/images/favicons/safari-pinned-tab.svg"
      color="#000000"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css"
    />
    <!--<link rel="stylesheet" href="dist/styles/main.css" />-->
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="dist/styles/locomotive.css" />
  </head>

  <body>
    <div class="o-scroll inside" id="js-scroll" data-scroll-container>
      <div class="container">
        <div class="section">
          <div data-scroll data-scroll-repeat>
            <div class="o-container container-fluid">
              <div
                class="o-layout_item u-3/5@from-medium m-h text-center z-1 center-content">
                <div>
                  <div
                    class="c-cta_content_text"
                    data-scroll
                    data-scroll-offset="100">
                    <p>
                      La Corte Constitucional declara en su sentencia T-025 de
                      2004, que el año de 1980 marca el inicio del
                      desplazamiento forzado en sus condiciones actuales.”
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="o-container">
              <div class="c-cta_content z-1">
                <div class="o-layout -gutter">
                  <h2 class="text-center">
                    <small>1980-1988:</small> Escalamiento Del Conflicto
                  </h2>
                  <div class="o-layout_item u-2/5@from-medium"></div>
                </div>
              </div>
            </div>
          </div>
          <div data-scroll data-scroll-repeat>
            <div class="o-container">
              <div class="c-cta_content z-1">
                <div class="o-layout -gutter">
                  <div class="o-layout_item u-4/5@from-medium">
                    <div>
                      <div
                        class="c-cta_content_text w-80"
                        data-scroll
                        data-scroll-offset="100"
                      >
                        <p>
                          En los años ochenta, el desplazamiento forzado se
                          produjo en distintas regiones del país. Este periodo
                          se caracteriza por el surgimiento del paramilitarismo
                          moderno, el auge del narcotráfico y los procesos de
                          paz con las guerrillas. El desplazamiento permitió a
                          actores del conflicto acumular propiedades, tierras y
                          territorios.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Add 2 buttons -->
              <button class="graphic-table" onclick="update(data1)">
                1980 - 1988
              </button>
              <button class="graphic-table" onclick="update(data2)">
                1988 - 1996
              </button>
              <button class="graphic-table" onclick="update(data3)">
                1997 -  2004
              </button>
              <button class="graphic-table" onclick="update(data4)">
                2005 - 5014
              </button>
              <div id="my_dataviz"></div>
            </div>
            <div class="o-container container-fluid">
              <div
                class="o-layout_item u-3/5@from-medium m-h text-center z-1 center-content">
                <hr
                  class="c-cta_line -margin"
                  data-scroll
                  data-scroll-offset="100"/>
                <div>
                  <div
                    class="c-cta_content_text"
                    data-scroll
                    data-scroll-offset="100">
                    <p>
                      <b
                        >De acuerdo al RUV, entre 1980 y 1988 se registraron
                        65.597 personas desplazadas, mientras que CODHES
                        presenta 227.000 personas desplazadas solamente entre
                        1985 y 1988.</b>
                    </p>
                    <a class="text-right toggle" href="index.html">
                      Regresar a la linea de tiempo</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div data-scroll data-scroll-repeat>
          <footer></footer>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      nomodule
      src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.6.0/polyfill.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      nomodule
      src="https://polyfill.io/v3/polyfill.min.js?features=Object.assign%2CElement.prototype.append%2CNodeList.prototype.forEach%2CCustomEvent%2Csmoothscroll"
      crossorigin="anonymous"
    ></script>

    <!--<script src="dist/scripts/main.js"></script>-->
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script>
      // create 1 data_set
      var data1 = [
        { group: "1978-1982<br>Julio Cesar Turbay Ayala", value: 2224 },
        { group: "1982-1986<br>Belisario Betancur Cuartas", value: 19819 },
        { group: "1986-1990<br>Virgilio Barco Vargas", value: 87203 },
      ];

      var data2 = [
        { group: "1978-1982<br>Julio Cesar Turbay Ayala", value: 2224 },
        { group: "1982-1986<br>Belisario Betancur Cuartas", value: 19819 },
        { group: "1986-1990<br>Virgilio Barco Vargas", value: 87203 },
        { group: "1990-1994<br>César Gaviria Trujillo", value: 133900 },
        { group: "1994-1998<br>Ernesto Samper Pizano", value: 548686 },
      ];

      var data3 = [
        { group: "1978-1982<br>Julio Cesar Turbay Ayala", value: 2224 },
        { group: "1982-1986<br>Belisario Betancur Cuartas", value: 19819 },
        { group: "1986-1990<br>Virgilio Barco Vargas", value: 87203 },
        { group: "1990-1994<br>César Gaviria Trujillo", value: 133900 },
        { group: "1994-1998<br>Ernesto Samper Pizano", value: 548686 },
        { group: "1998-2002<br>Andrés Pastrana Arango ", value: 1827331 },
        { group: "2002-2006<br>Álvaro Uribe Velez -I ", value: 1630614 },
      ];

      var data4 = [
        { group: "1978-1982<br>Julio Cesar Turbay Ayala", value: 2224 },
        { group: "1982-1986<br>Belisario Betancur Cuartas", value: 19819 },
        { group: "1986-1990<br>Virgilio Barco Vargas", value: 87203 },
        { group: "1990-1994<br>César Gaviria Trujillo", value: 133900 },
        { group: "1994-1998<br>Ernesto Samper Pizano", value: 548686 },
        { group: "1998-2002<br>Andrés Pastrana Arango ", value: 1827331 },
        { group: "2002-2006<br>Álvaro Uribe Velez -I ", value: 1630614 },
        { group: "2006-2010<br>Álvaro Uribe Velez -II", value: 1364398 },
        { group: "2010-2014<br>Juan Manuel Santos", value: 969576 },
      ];

      // set the dimensions and margins of the graph
      var margin = { top: 30, right: 30, bottom: 70, left: 60 },
        width = 1000 - margin.left - margin.right,
        height = 750 - margin.top - margin.bottom;

      // append the svg object to the body of the page
      var svg = d3
        .select("#my_dataviz")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      // Initialize the X axis
      var x = d3.scaleBand().range([0, width]).padding(0.2);
      var xAxis = svg
        .append("g")
        .attr("transform", "translate(0," + height + ")");

      // Initialize the Y axis
      var y = d3.scaleLinear().range([height, 0]);
      var yAxis = svg.append("g").attr("class", "myYaxis");

      // A function that create / update the plot for a given variable:
      function update(data) {
        // Update the X axis
        x.domain(
          data.map(function (d) {
            return d.group;
          })
        );
        xAxis.call(d3.axisBottom(x));

        // Update the Y axis
        y.domain([
          0,
          d3.max(data, function (d) {
            return d.value;
          }),
        ]);
        yAxis.transition().duration(1000).call(d3.axisLeft(y));

        // Create the u variable
        var u = svg.selectAll("rect").data(data);

        u.enter()
          .append("rect") // Add a new rect for each new elements
          .merge(u) // get the already existing elements as well
          .transition() // and apply changes to all of them
          .duration(1000)
          .attr("x", function (d) {
            return x(d.group);
          })
          .attr("y", function (d) {
            return y(d.value);
          })
          .attr("width", x.bandwidth())
          .attr("height", function (d) {
            return height - y(d.value);
          })
          .attr("fill", "#993333");

        // If less group in the new dataset, I delete the ones not in use anymore
        u.exit().remove();
      }

      // Initialize the plot with the first dataset
      update(data1);
    </script>
  </body>
</html>
